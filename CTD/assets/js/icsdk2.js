/*! sdk */
!function(a,b,c,d,e,f){function g(a,b){var c=typeof a[b];return"function"==c||!("object"!=c||!a[b])||"unknown"==c}function h(a,b){return!("object"!=typeof a[b]||!a[b])}function i(a){return"[object Array]"===Object.prototype.toString.call(a)}function j(){var a="Shockwave Flash",b="application/x-shockwave-flash";if(!t(navigator.plugins)&&"object"==typeof navigator.plugins[a]){var c=navigator.plugins[a].description;c&&!t(navigator.mimeTypes)&&navigator.mimeTypes[b]&&navigator.mimeTypes[b].enabledPlugin&&(C=c.match(/\d+/g))}if(!C){var d;try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),C=Array.prototype.slice.call(d.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1),d=null}catch(e){}}if(!C)return!1;var f=parseInt(C[0],10),g=parseInt(C[1],10);return D=f>9&&g>0,!0}function k(){if(!T){T=!0,R("firing dom_onReady");for(var a=0;a<U.length;a++)U[a]();U.length=0}}function l(a,b){return T?void a.call(b):void U.push(function(){a.call(b)})}function m(){var a=parent;if(""!==M)for(var b=0,c=M.split(".");b<c.length;b++){if(!a)throw new Error(c.slice(0,b+1).join(".")+" is not an object");a=a[c[b]]}if(!a||!a.easyXDM)throw new Error("Could not find easyXDM in parent."+M);return a.easyXDM}function n(b){if("string"!=typeof b||!b)throw new Error("namespace must be a non-empty string");return R("Settings namespace to '"+b+"'"),a.easyXDM=O,M=b,M&&(P="easyXDM_"+M.replace(".","_")+"_"),N}function o(a){if(!a)throw new Error("url is undefined or empty");return a.match(J)[3]}function p(a){if(!a)throw new Error("url is undefined or empty");return a.match(J)[4]||""}function q(a){if(!a)throw new Error("url is undefined or empty");if(/^file/.test(a))throw new Error("The file:// protocol is not supported");var b=a.toLowerCase().match(J),c=b[2],d=b[3],e=b[4]||"";return("http:"==c&&":80"==e||"https:"==c&&":443"==e)&&(e=""),c+"//"+d+e}function r(a){if(!a)throw new Error("url is undefined or empty");if(a=a.replace(L,"$1/"),!a.match(/^(http||https):\/\//)){var b="/"===a.substring(0,1)?"":c.pathname;"/"!==b.substring(b.length-1)&&(b=b.substring(0,b.lastIndexOf("/")+1)),a=c.protocol+"//"+c.host+b+a}for(;K.test(a);)a=a.replace(K,"");return R("resolved url '"+a+"'"),a}function s(a,b){if(!b)throw new Error("parameters is undefined or null");var c="",d=a.indexOf("#");-1!==d&&(c=a.substring(d),a=a.substring(0,d));var e=[];for(var g in b)b.hasOwnProperty(g)&&e.push(g+"="+f(b[g]));return a+(Q?"#":-1==a.indexOf("?")?"?":"&")+e.join("&")+c}function t(a){return"undefined"==typeof a}function u(a,b,c){var d;for(var e in b)b.hasOwnProperty(e)&&(e in a?(d=b[e],"object"==typeof d?u(a[e],d,c):c||(a[e]=b[e])):a[e]=b[e]);return a}function v(){var a=b.body.appendChild(b.createElement("form")),c=a.appendChild(b.createElement("input"));c.name=P+"TEST"+H,B=c!==a.elements[c.name],b.body.removeChild(a),R("HAS_NAME_PROPERTY_BUG: "+B)}function w(a){R("creating frame: "+a.props.src),t(B)&&v();var c;B?c=b.createElement('<iframe name="'+a.props.name+'"/>'):(c=b.createElement("IFRAME"),c.name=a.props.name),c.id=c.name=a.props.name,delete a.props.name,"string"==typeof a.container&&(a.container=b.getElementById(a.container)),a.container||(u(c.style,{position:"absolute",top:"-2000px",left:"0px"}),a.container=b.body);var d=a.props.src;if(a.props.src="javascript:false",u(c,a.props),c.border=c.frameBorder=0,c.allowTransparency=!0,a.container.appendChild(c),a.onLoad&&E(c,"load",a.onLoad),a.usePost){var e,f=a.container.appendChild(b.createElement("form"));if(f.target=c.name,f.action=d,f.method="POST","object"==typeof a.usePost)for(var g in a.usePost)a.usePost.hasOwnProperty(g)&&(B?e=b.createElement('<input name="'+g+'"/>'):(e=b.createElement("INPUT"),e.name=g),e.value=a.usePost[g],f.appendChild(e));f.submit(),f.parentNode.removeChild(f)}else c.src=d;return a.props.src=d,c}function x(a,b){"string"==typeof a&&(a=[a]);for(var c,d=a.length;d--;)if(c=a[d],c=new RegExp("^"==c.substr(0,1)?c:"^"+c.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$"),c.test(b))return!0;return!1}function y(d){var e,f=d.protocol;if(d.isHost=d.isHost||t(W.xdm_p),Q=d.hash||!1,R("preparing transport stack"),d.props||(d.props={}),d.isHost)d.remote=r(d.remote),d.channel=d.channel||"default"+H++,d.secret=Math.random().toString(16).substring(2),t(f)?(f=q(c.href)==q(d.remote)?"4":g(a,"postMessage")||g(b,"postMessage")?"1":d.swf&&g(a,"ActiveXObject")&&j()?"6":"Gecko"===navigator.product&&"frameElement"in a&&-1==navigator.userAgent.indexOf("WebKit")?"5":d.remoteHelper?"2":"0",R("selecting protocol: "+f)):R("using protocol: "+f);else if(R("using parameters from query"),d.channel=W.xdm_c.replace(/["'<>\\]/g,""),d.secret=W.xdm_s,d.remote=W.xdm_e.replace(/["'<>\\]/g,""),f=W.xdm_p,d.acl&&!x(d.acl,d.remote))throw new Error("Access denied for "+d.remote);switch(d.protocol=f,f){case"0":if(u(d,{interval:100,delay:2e3,useResize:!0,useParent:!1,usePolling:!1},!0),d.isHost){if(!d.local){R("looking for image to use as local");for(var h,i=c.protocol+"//"+c.host,k=b.body.getElementsByTagName("img"),l=k.length;l--;)if(h=k[l],h.src.substring(0,i.length)===i){d.local=h.src;break}d.local||(R("no image found, defaulting to using the window"),d.local=a)}var m={xdm_c:d.channel,xdm_p:0};d.local===a?(d.usePolling=!0,d.useParent=!0,d.local=c.protocol+"//"+c.host+c.pathname+c.search,m.xdm_e=d.local,m.xdm_pa=1):m.xdm_e=r(d.local),d.container&&(d.useResize=!1,m.xdm_po=1),d.remote=s(d.remote,m)}else u(d,{channel:W.xdm_c,remote:W.xdm_e,useParent:!t(W.xdm_pa),usePolling:!t(W.xdm_po),useResize:d.useParent?!1:d.useResize});e=[new N.stack.HashTransport(d),new N.stack.ReliableBehavior({}),new N.stack.QueueBehavior({encode:!0,maxLength:4e3-d.remote.length}),new N.stack.VerifyBehavior({initiate:d.isHost})];break;case"1":e=[new N.stack.PostMessageTransport(d)];break;case"2":d.isHost&&(d.remoteHelper=r(d.remoteHelper)),e=[new N.stack.NameTransport(d),new N.stack.QueueBehavior,new N.stack.VerifyBehavior({initiate:d.isHost})];break;case"3":e=[new N.stack.NixTransport(d)];break;case"4":e=[new N.stack.SameOriginTransport(d)];break;case"5":e=[new N.stack.FrameElementTransport(d)];break;case"6":C||j(),e=[new N.stack.FlashTransport(d)]}return e.push(new N.stack.QueueBehavior({lazy:d.lazy,remove:!0})),e}function z(a){for(var b,c={incoming:function(a,b){this.up.incoming(a,b)},outgoing:function(a,b){this.down.outgoing(a,b)},callback:function(a){this.up.callback(a)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},d=0,e=a.length;e>d;d++)b=a[d],u(b,c,!0),0!==d&&(b.down=a[d-1]),d!==e-1&&(b.up=a[d+1]);return b}function A(a){a.up.down=a.down,a.down.up=a.up,a.up=a.down=null}var B,C,D,E,F,G=this,H=Math.floor(1e4*Math.random()),I=Function.prototype,J=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,K=/[\-\w]+\/\.\.\//,L=/([^:])\/\//g,M="",N={},O=a.easyXDM,P="easyXDM_",Q=!1,R=I;if(g(a,"addEventListener"))E=function(a,b,c){R("adding listener "+b),a.addEventListener(b,c,!1)},F=function(a,b,c){R("removing listener "+b),a.removeEventListener(b,c,!1)};else{if(!g(a,"attachEvent"))throw new Error("Browser not supported");E=function(a,b,c){R("adding listener "+b),a.attachEvent("on"+b,c)},F=function(a,b,c){R("removing listener "+b),a.detachEvent("on"+b,c)}}var S,T=!1,U=[];if("readyState"in b?(S=b.readyState,T="complete"==S||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==S||"interactive"==S)):T=!!b.body,!T){if(g(a,"addEventListener"))E(b,"DOMContentLoaded",k);else if(E(b,"readystatechange",function(){"complete"==b.readyState&&k()}),b.documentElement.doScroll&&a===top){var V=function(){if(!T){try{b.documentElement.doScroll("left")}catch(a){return void d(V,1)}k()}};V()}E(a,"load",k)}var W=function(a){a=a.substring(1).split("&");for(var b,c={},d=a.length;d--;)b=a[d].split("="),c[b[0]]=e(b[1]);return c}(/xdm_e=/.test(c.search)?c.search:c.hash),X=function(){var a={},b={a:[1,2,3]},c='{"a":[1,2,3]}';return"undefined"!=typeof JSON&&"function"==typeof JSON.stringify&&JSON.stringify(b).replace(/\s/g,"")===c?JSON:(Object.toJSON&&Object.toJSON(b).replace(/\s/g,"")===c&&(a.stringify=Object.toJSON),"function"==typeof String.prototype.evalJSON&&(b=c.evalJSON(),b.a&&3===b.a.length&&3===b.a[2]&&(a.parse=function(a){return a.evalJSON()})),a.stringify&&a.parse?(X=function(){return a},a):null)};u(N,{version:"2.4.19.3",query:W,stack:{},apply:u,getJSONObject:X,whenReady:l,noConflict:n}),u(N,{checkAcl:x,getDomainName:o,getLocation:q,appendQueryParameters:s});var Y={_deferred:[],flush:function(){this.trace("... deferred messages ...");for(var a=0,b=this._deferred.length;b>a;a++)this.trace(this._deferred[a]);this._deferred.length=0,this.trace("... end of deferred messages ...")},getTime:function(){var a=new Date,b=a.getHours()+"",c=a.getMinutes()+"",d=a.getSeconds()+"",e=a.getMilliseconds()+"",f="000";return 1==b.length&&(b="0"+b),1==c.length&&(c="0"+c),1==d.length&&(d="0"+d),e=f.substring(e.length)+e,b+":"+c+":"+d+"."+e},log:function(b){this.log=!h(a,"console")||t(console.log)?I:function(a){console.log(c.host+(M?":"+M:"")+" - "+this.getTime()+": "+a)},this.log(b)},trace:function(d){if(T){var e=b.getElementById("log");if(e)this.trace=function(a){try{e.appendChild(b.createElement("div")).appendChild(b.createTextNode(c.host+(M?":"+M:"")+" - "+this.getTime()+":"+a)),e.scrollTop=e.scrollHeight}catch(d){}};else if(h(a,"console")&&!t(console.info))this.trace=function(a){console.info(c.host+(M?":"+M:"")+" - "+this.getTime()+":"+a)};else{var f,g=c.host,i=g.replace(/[\-.:]/g,"")+"easyxdm_log";try{f=a.open("",i,"width=800,height=200,status=0,navigation=0,scrollbars=1")}catch(j){}if(f){var k=f.document;e=k.getElementById("log"),e||(k.write("<html><head><title>easyXDM log "+g+"</title></head>"),k.write('<body><div id="log"></div></body></html>'),k.close(),e=k.getElementById("log")),this.trace=function(a){try{e.appendChild(k.createElement("div")).appendChild(k.createTextNode(c.host+(M?":"+M:"")+" - "+this.getTime()+":"+a)),e.scrollTop=e.scrollHeight}catch(b){}},this.trace("---- new logger at "+c.href)}e||(this.trace=I)}this.trace(d)}else 0===this._deferred.length&&N.whenReady(Y.flush,Y),this._deferred.push(d),this.log(d)},getTracer:function(a){return function(b){Y.trace(a+": "+b)}}};Y.log("easyXDM present on '"+c.href),N.Debug=Y,R=Y.getTracer("{Private}"),N.DomHelper={on:E,un:F,requiresJSON:function(c){h(a,"JSON")?Y.log("native JSON found"):(Y.log("loading external JSON"),b.write('<script type="text/javascript" src="'+c+'"></script>'))}},function(){var a={};N.Fn={set:function(b,c){this._trace("storing function "+b),a[b]=c},get:function(b,c){if(this._trace("retrieving function "+b),a.hasOwnProperty(b)){var d=a[b];return d||this._trace(b+" not found"),c&&delete a[b],d}}},N.Fn._trace=Y.getTracer("easyXDM.Fn")}(),N.Socket=function(a){var b=Y.getTracer("easyXDM.Socket");b("constructor");var c=z(y(a).concat([{incoming:function(b,c){a.onMessage(b,c)},callback:function(b){a.onReady&&a.onReady(b)}}])),d=q(a.remote);this.origin=q(a.remote),this.destroy=function(){c.destroy()},this.postMessage=function(a){c.outgoing(a,d)},c.init()},N.Rpc=function(a,b){var c=Y.getTracer("easyXDM.Rpc");if(c("constructor"),b.local)for(var d in b.local)if(b.local.hasOwnProperty(d)){var e=b.local[d];"function"==typeof e&&(b.local[d]={method:e})}var f=z(y(a).concat([new N.stack.RpcBehavior(this,b),{callback:function(b){a.onReady&&a.onReady(b)}}]));this.origin=q(a.remote),this.destroy=function(){f.destroy()},f.init()},N.stack.SameOriginTransport=function(a){var b=Y.getTracer("easyXDM.stack.SameOriginTransport");b("constructor");var e,f,g,h;return e={outgoing:function(a,b,c){g(a),c&&c()},destroy:function(){b("destroy"),f&&(f.parentNode.removeChild(f),f=null)},onDOMReady:function(){b("init"),h=q(a.remote),a.isHost?(u(a.props,{src:s(a.remote,{xdm_e:c.protocol+"//"+c.host+c.pathname,xdm_c:a.channel,xdm_p:4}),name:P+a.channel+"_provider"}),f=w(a),N.Fn.set(a.channel,function(a){return g=a,d(function(){e.up.callback(!0)},0),function(a){e.up.incoming(a,h)}})):(g=m().Fn.get(a.channel,!0)(function(a){e.up.incoming(a,h)}),d(function(){e.up.callback(!0)},0))},init:function(){l(e.onDOMReady,e)}}},N.stack.FlashTransport=function(a){function e(a){d(function(){h("received message"),i.up.incoming(a,k)},0)}function g(c){h("creating factory with SWF from "+c);var d=a.swf+"?host="+a.isHost,e="easyXDM_swf_"+Math.floor(1e4*Math.random());N.Fn.set("flash_loaded"+c.replace(/[\-.]/g,"_"),function(){N.stack.FlashTransport[c].swf=m=n.firstChild;for(var a=N.stack.FlashTransport[c].queue,b=0;b<a.length;b++)a[b]();a.length=0}),a.swfContainer?n="string"==typeof a.swfContainer?b.getElementById(a.swfContainer):a.swfContainer:(n=b.createElement("div"),u(n.style,D&&a.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),b.body.appendChild(n));var g="callback=flash_loaded"+f(c.replace(/[\-.]/g,"_"))+"&proto="+G.location.protocol+"&domain="+f(o(G.location.href))+"&port="+f(p(G.location.href))+"&ns="+f(M);g+="&log=true",n.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+e+"' data='"+d+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+d+"'></param><param name='flashvars' value='"+g+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+g+"' allowScriptAccess='always' wmode='transparent' src='"+d+"' height='1' width='1'></embed></object>"}var h=Y.getTracer("easyXDM.stack.FlashTransport");if(h("constructor"),!a.swf)throw new Error("Path to easyxdm.swf is missing");var i,j,k,m,n;return i={outgoing:function(b,c,d){m.postMessage(a.channel,b.toString()),d&&d()},destroy:function(){h("destroy");try{m.destroyChannel(a.channel)}catch(b){}m=null,j&&(j.parentNode.removeChild(j),j=null)},onDOMReady:function(){h("init"),k=a.remote,N.Fn.set("flash_"+a.channel+"_init",function(){d(function(){h("firing onReady"),i.up.callback(!0)})}),N.Fn.set("flash_"+a.channel+"_onMessage",e),a.swf=r(a.swf);var b=o(a.swf),f=function(){N.stack.FlashTransport[b].init=!0,m=N.stack.FlashTransport[b].swf,m.createChannel(a.channel,a.secret,q(a.remote),a.isHost),a.isHost&&(D&&a.swfNoThrottle&&u(a.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),u(a.props,{src:s(a.remote,{xdm_e:q(c.href),xdm_c:a.channel,xdm_p:6,xdm_s:a.secret}),name:P+a.channel+"_provider"}),j=w(a))};N.stack.FlashTransport[b]&&N.stack.FlashTransport[b].init?f():N.stack.FlashTransport[b]?N.stack.FlashTransport[b].queue.push(f):(N.stack.FlashTransport[b]={queue:[f]},g(b))},init:function(){l(i.onDOMReady,i)}}},N.stack.PostMessageTransport=function(b){function e(a){if(a.origin)return q(a.origin);if(a.uri)return q(a.uri);if(a.domain)return c.protocol+"//"+a.domain;throw"Unable to retrieve the origin of the event"}function f(a){var c=e(a);g("received message '"+a.data+"' from "+c),a.data.substring(0,b.channel.length+1)==b.channel+" "&&h.up.incoming(a.data.substring(b.channel.length+1),c)}var g=Y.getTracer("easyXDM.stack.PostMessageTransport");g("constructor");var h,i,j,k;return h={outgoing:function(a,c,d){j.postMessage(b.channel+" "+a,c||k),d&&d()},destroy:function(){g("destroy"),F(a,"message",f),i&&(j=null,i.parentNode.removeChild(i),i=null)},onDOMReady:function(){if(g("init"),k=q(b.remote),b.isHost){var e=function(c){c.data==b.channel+"-ready"&&(g("firing onReady"),j="postMessage"in i.contentWindow?i.contentWindow:i.contentWindow.document,F(a,"message",e),E(a,"message",f),d(function(){h.up.callback(!0)},0))};E(a,"message",e),u(b.props,{src:s(b.remote,{xdm_e:q(c.href),xdm_c:b.channel,xdm_p:1}),name:P+b.channel+"_provider"}),i=w(b)}else E(a,"message",f),j="postMessage"in a.parent?a.parent:a.parent.document,j.postMessage(b.channel+"-ready",k),d(function(){h.up.callback(!0)},0)},init:function(){l(h.onDOMReady,h)}}},N.stack.FrameElementTransport=function(e){var f=Y.getTracer("easyXDM.stack.FrameElementTransport");f("constructor");var g,h,i,j;return g={outgoing:function(a,b,c){i.call(this,a),c&&c()},destroy:function(){f("destroy"),h&&(h.parentNode.removeChild(h),h=null)},onDOMReady:function(){f("init"),j=q(e.remote),e.isHost?(u(e.props,{src:s(e.remote,{xdm_e:q(c.href),xdm_c:e.channel,xdm_p:5}),name:P+e.channel+"_provider"}),h=w(e),h.fn=function(a){return delete h.fn,i=a,d(function(){g.up.callback(!0)},0),function(a){g.up.incoming(a,j)}}):(b.referrer&&q(b.referrer)!=W.xdm_e&&(a.top.location=W.xdm_e),i=a.frameElement.fn(function(a){g.up.incoming(a,j)}),g.up.callback(!0))},init:function(){l(g.onDOMReady,g)}}},N.stack.NameTransport=function(a){function b(b){var c=a.remoteHelper+(i?"#_3":"#_2")+a.channel;g("sending message "+b),g("navigating to  '"+c+"'"),j.contentWindow.sendMessage(b,c)}function c(){i?2!==++m&&i||h.up.callback(!0):(b("ready"),g("calling onReady"),h.up.callback(!0))}function e(a){g("received message "+a),h.up.incoming(a,o)}function f(){n&&d(function(){n(!0)},0)}var g=Y.getTracer("easyXDM.stack.NameTransport");if(g("constructor"),a.isHost&&t(a.remoteHelper))throw g("missing remoteHelper"),new Error("missing remoteHelper");var h,i,j,k,m,n,o,p;return h={outgoing:function(a,c,d){n=d,b(a)},destroy:function(){g("destroy"),j.parentNode.removeChild(j),j=null,i&&(k.parentNode.removeChild(k),k=null)},onDOMReady:function(){g("init"),i=a.isHost,m=0,o=q(a.remote),a.local=r(a.local),i?(N.Fn.set(a.channel,function(b){g("received initial message "+b),i&&"ready"===b&&(N.Fn.set(a.channel,e),c())}),p=s(a.remote,{xdm_e:a.local,xdm_c:a.channel,xdm_p:2}),u(a.props,{src:p+"#"+a.channel,name:P+a.channel+"_provider"}),k=w(a)):(a.remoteHelper=a.remote,N.Fn.set(a.channel,e));var b=function(){var e=j||this;F(e,"load",b),N.Fn.set(a.channel+"_load",f),function g(){"function"==typeof e.contentWindow.sendMessage?c():d(g,50)}()};j=w({props:{src:a.local+"#_4"+a.channel},onLoad:b})},init:function(){l(h.onDOMReady,h)}}},N.stack.HashTransport=function(b){function c(a){if(h("sending message '"+(o+1)+" "+a+"' to "+t),!r)return void h("no caller window");var c=b.remote+"#"+o++ +"_"+a;(j||!s?r.contentWindow:r).location=c}function e(a){n=a,h("received message '"+n+"' from "+t),i.up.incoming(n.substring(n.indexOf("_")+1),t)}function f(){if(p){var a=p.location.href,b="",c=a.indexOf("#");-1!=c&&(b=a.substring(c)),b&&b!=n&&(h("poll: new message"),e(b))}}function g(){h("starting polling"),k=setInterval(f,m)}var h=Y.getTracer("easyXDM.stack.HashTransport");h("constructor");var i,j,k,m,n,o,p,r,s,t;return i={outgoing:function(a){c(a)},destroy:function(){a.clearInterval(k),(j||!s)&&r.parentNode.removeChild(r),r=null},onDOMReady:function(){if(j=b.isHost,m=b.interval,n="#"+b.channel,o=0,s=b.useParent,t=q(b.remote),j){if(u(b.props,{src:b.remote,name:P+b.channel+"_provider"}),s)b.onLoad=function(){p=a,g(),i.up.callback(!0)};else{var c=0,e=b.delay/50;!function f(){if(++c>e)throw h("unable to get reference to _listenerWindow, giving up"),new Error("Unable to reference listenerwindow");try{p=r.contentWindow.frames[P+b.channel+"_consumer"]}catch(a){}p?(g(),h("got a reference to _listenerWindow"),i.up.callback(!0)):d(f,50)}()}r=w(b)}else p=a,g(),s?(r=parent,i.up.callback(!0)):(u(b,{props:{src:b.remote+"#"+b.channel+new Date,name:P+b.channel+"_consumer"},onLoad:function(){i.up.callback(!0)}}),r=w(b))},init:function(){l(i.onDOMReady,i)}}},N.stack.ReliableBehavior=function(){var a=Y.getTracer("easyXDM.stack.ReliableBehavior");a("constructor");var b,c,d=0,e=0,f="";return b={incoming:function(g,h){a("incoming: "+g);var i=g.indexOf("_"),j=g.substring(0,i).split(",");g=g.substring(i+1),j[0]==d&&(a("message delivered"),f="",c&&c(!0)),g.length>0&&(a("sending ack, and passing on "+g),b.down.outgoing(j[1]+","+d+"_"+f,h),e!=j[1]&&(e=j[1],b.up.incoming(g,h)))},outgoing:function(a,g,h){f=a,c=h,b.down.outgoing(e+","+ ++d+"_"+a,g)}}},N.stack.QueueBehavior=function(a){function b(){if(a.remove&&0===i.length)return c("removing myself from the stack"),void A(g);if(!j&&0!==i.length&&!h){c("dispatching from queue"),j=!0;var e=i.shift();g.down.outgoing(e.data,e.origin,function(a){j=!1,e.callback&&d(function(){e.callback(a)},0),b()})}}var c=Y.getTracer("easyXDM.stack.QueueBehavior");c("constructor");var g,h,i=[],j=!0,k="",l=0,m=!1,n=!1;return g={init:function(){t(a)&&(a={}),a.maxLength&&(l=a.maxLength,n=!0),a.lazy?m=!0:g.down.init()},callback:function(a){j=!1;var c=g.up;b(),c.callback(a)},incoming:function(b,d){if(n){var f=b.indexOf("_"),h=parseInt(b.substring(0,f),10);k+=b.substring(f+1),0===h?(c("received the last fragment"),a.encode&&(k=e(k)),g.up.incoming(k,d),k=""):c("waiting for more fragments, seq="+b)}else g.up.incoming(b,d)},outgoing:function(d,e,h){a.encode&&(d=f(d));var j,k=[];if(n){for(;0!==d.length;)j=d.substring(0,l),d=d.substring(j.length),k.push(j);for(;j=k.shift();)c("enqueuing"),i.push({data:k.length+"_"+j,origin:e,callback:0===k.length?h:null})}else i.push({data:d,origin:e,callback:h});m?g.down.init():b()},destroy:function(){c("destroy"),h=!0,g.down.destroy()}}},N.stack.VerifyBehavior=function(a){function b(){c("requesting verification"),e=Math.random().toString(16).substring(2),d.down.outgoing(e)}var c=Y.getTracer("easyXDM.stack.VerifyBehavior");if(c("constructor"),t(a.initiate))throw new Error("settings.initiate is not set");var d,e,f;return d={incoming:function(g,h){var i=g.indexOf("_");-1===i?g===e?(c("verified, calling callback"),d.up.callback(!0)):f||(c("returning secret"),f=g,a.initiate||b(),d.down.outgoing(g)):g.substring(0,i)===f&&d.up.incoming(g.substring(i+1),h)},outgoing:function(a,b,c){d.down.outgoing(e+"_"+a,b,c)},callback:function(){a.initiate&&b()}}},N.stack.RpcBehavior=function(a,b){function c(a){a.jsonrpc="2.0",f.down.outgoing(h.stringify(a))}function d(a,b){var d=Array.prototype.slice;return g("creating method "+b),function(){g("executing method "+b);var e,f=arguments.length,h={method:b};f>0&&"function"==typeof arguments[f-1]?(f>1&&"function"==typeof arguments[f-2]?(e={success:arguments[f-2],error:arguments[f-1]},h.params=d.call(arguments,0,f-2)):(e={success:arguments[f-1]},h.params=d.call(arguments,0,f-1)),k[""+ ++j]=e,h.id=j):h.params=d.call(arguments,0),a.namedParams&&1===h.params.length&&(h.params=h.params[0]),c(h)}}function e(a,b,d,e){if(!d)return g("requested to execute non-existent procedure "+a),void(b&&c({id:b,error:{code:-32601,message:"Procedure not found."}}));g("requested to execute procedure "+a);var f,h;b?(f=function(a){f=I,c({id:b,result:a})},h=function(a,d){h=I;var e={id:b,error:{code:-32099,message:a}};d&&(e.error.data=d),c(e)}):f=h=I,i(e)||(e=[e]);try{var j=d.method.apply(d.scope,e.concat([f,h]));t(j)||f(j)}catch(k){h(k.message)}}var f,g=Y.getTracer("easyXDM.stack.RpcBehavior"),h=b.serializer||X(),j=0,k={};return f={incoming:function(a){var d=h.parse(a);if(d.method)g("received request to execute method "+d.method+(d.id?" using callback id "+d.id:"")),b.handle?b.handle(d,c):e(d.method,d.id,b.local[d.method],d.params);else{g("received return value destined to callback with id "+d.id);var f=k[d.id];d.error?f.error?f.error(d.error):g("unhandled error returned."):f.success&&f.success(d.result),delete k[d.id]}},init:function(){if(g("init"),b.remote){g("creating stubs");for(var c in b.remote)b.remote.hasOwnProperty(c)&&(a[c]=d(b.remote[c],c))}f.down.init()},destroy:function(){g("destroy");for(var c in b.remote)b.remote.hasOwnProperty(c)&&a.hasOwnProperty(c)&&delete a[c];f.down.destroy()}}},G.easyXDM=N}(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent),!function(){"use strict";function a(a,b){"addEventListener"in window?window.addEventListener(a,b,!1):"attachEvent"in window&&window.attachEvent("on"+a,b)}function b(a){return o+"["+q+"] "+a}function c(a){n&&"console"in window&&console.log(b(a))}function d(a){"console"in window&&console.warn(b(a))}function e(b){function e(){function d(){function a(a){return"true"===a?!0:!1}var c=b.data.substr(p).split(":");q=c[0],h=parseInt(c[1],g),i=void 0!==c[2]?a(c[2]):!1,n=void 0!==c[3]?a(c[3]):!1,l=void 0!==c[4]?parseInt(c[4],g):33,r=void 0!==c[5]?a(c[5]):!1,f=void 0!==c[6]?a(c[6]):!0,s=b.source}function e(){document.body.style.margin=h+"px",c("Body margin set to "+h+"px")}function j(){document.documentElement.style.height="auto",document.body.style.height="auto",c('HTML & body height set to "auto"')}function k(){a("resize",function(){u("resize","Window resized")})}function m(){!0===f?(k(),x()):c("Auto Resize disabled")}c("Initialising iFrame"),d(),e(),j(),v(),m()}function u(a,b,d,e){function f(a){return document.body["offset"+a]+2*h}function g(){c("Trigger event ("+b+") cancelled"),setTimeout(function(){m=a},50)}function k(){c("Trigger event: "+b),m=a}function l(){var b=q+":"+j+":"+t+":"+a;c("Sending msg to host page ("+b+")"),s.postMessage(o+b,"*")}function n(){j=p,t=r,k(),l()}var p=void 0!==d?d:f("Height"),r=void 0!==e?e:f("Width");m in{size:1,interval:1}&&"resize"===a?g():(j!==p||i&&t!==r)&&n()}function v(){r&&(c("Enabling public methods"),window.parentIFrame=window.iFrameSizer={size:function(a,b){var c=""+(a?a:"")+(b?","+b:"");u("size","window.parentIFrame.size("+c+")",a,b)},close:function(){u("close","window.parentIFrame.close()",0,0)}})}function w(){0!==l&&(c("setInterval: "+l+"ms"),setInterval(function(){u("interval","setInterval: "+l)},Math.abs(l)))}function x(){function a(){var a=document.querySelector("body"),d={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},e=new b(function(a){a.forEach(function(a){u("mutationObserver","mutationObserver: "+a.target+" "+a.type)})});c("Setup MutationObserver"),e.observe(a,d)}var b=window.MutationObserver||window.WebKitMutationObserver;b?0>l?w():a():(d("MutationObserver not supported in this browser!"),w())}function y(){return o===""+b.data.substr(0,p)}y()&&k&&(e(),u("init","Init message from host page"),k=!1)}var f=!0,g=10,h=0,i=!1,j=1,k=!0,l=0,m="",n=!1,o="[iFrameSizer]",p=o.length,q="",r=!1,s=null,t=1;try{a("message",e)}catch(u){d(u)}}(),window.IC||function(){var a={};if(a.easyXDM=easyXDM.noConflict("IsaaCloudJSSDK"),a.sockets={},a.config={appId:0,gamId:0,appName:null,mode:"user",host:"https://api.isaacloud.com",hostOauth:"https://oauth.isaacloud.com",resourcePrefix:"/v1",token:null,headers:{contentType:"application/json",authorization:null},origin:window.location.host,onStartGlobal:null,onEndGlobal:null,setToken:function(a,b){this.headers.authorization=a+" "+b,this.token=b}},a.auth={actions:{},instances:{},tmp:{successLogin:null,loginPopup:null,watchInterval:null,nologinCounter:0},getAppToken:function(b){if(b=b||a.helpers.noop,"ac"===a.config.mode&&!a.config.appName)throw new Error('Value "appName" is required in "ac" mode.');var c=this.getAuthUrl();this.startAuthProcess(b,c)},startAuthProcess:function(b,c){var d=this;a.sockets.auth=new a.easyXDM.Socket({remote:c,onMessage:function(c,e){if(console.log("-----",c,e),a.helpers.testOrigin(e)){if(0===c.indexOf("_ICMSG_TA_")){var f=c.replace("_ICMSG_TA_","");a.config.setToken("Bearer",f),d.successLogin(b);var g={success:!0};("ac"===a.config.mode||"admin"===a.config.mode)&&(g.token=f),b(g)}else 0===c.indexOf("_ICMSG_ERROR_NO_LOGIN")&&(console.log(d),0===d.tmp.nologinCounter?(d.tmp.nologinCounter++,d.tmp.successLogin=b,d.loginPopup(),d.setLoginPopupWatcher()):(d.tmp.nologinCounter=0,b({success:!1})));a.sockets.auth.destroy()}}})},setLoginPopupWatcher:function(){var a=this;this.tmp.watchInterval=setInterval(function(){a.tmp.loginPopup.closed&&(clearInterval(a.tmp.watchInterval),a.getAppToken(a.tmp.successLogin))},100)},loginPopup:function(){var b=this.getLoginUrl(),c="IsaaCloud Login",d=a.helpers.popupSizePosition(500,450),e=window.open(b,c,d);this.tmp.loginPopup=e,window.focus&&e.focus()},successLogin:function(){console.log("create proxy tunnel"),a.sockets.proxy=new a.easyXDM.Rpc({remote:a.config.host+"/easyxdm/"},{remote:{request:{}}})},getAuthUrl:function(){var b=a.config.hostOauth+"/auth?gid="+a.config.gamId+"&aid="+a.config.appId+"&origin="+a.config.origin+"&sdk=js&p=true";return b+="user"===a.config.mode?"&m=false":"&m=true"},getLoginUrl:function(){var b=a.config.hostOauth+"/signin/?gid="+a.config.gamId+"&aid="+a.config.appId+"&origin="+a.config.origin+"&sdk=js&p=true";return b+="user"===a.config.mode?"&m=false":"&m=true"},logout:function(b){var b=b||a.helpers.noop,c=a.config.hostOauth+"/logout";a.sockets.logout=new a.easyXDM.Socket({remote:c,onMessage:function(c,d){a.helpers.testOrigin(d)&&0===c.indexOf("_ICMSG_LOGOUT")&&b()}})},initRpcGate:function(){}},a.init=function(b){b=b||{};var c=["user","admin","ac"];b.api&&(b.api.host&&(a.config.host=b.api.host),b.api.hostOauth&&(a.config.hostOauth=b.api.hostOauth),b.api.proxyPath&&(a.config.ifrProxyPath=b.api.proxyPath),b.api.proxyPathOauth&&(a.config.ifrProxyPathOauth=b.api.proxyPathOauth),b.api.resourcePrefix&&(a.config.resourcePrefix=b.api.resourcePrefix)),b.appId&&(a.config.appId=b.appId),b.gamId&&(a.config.gamId=b.gamId),b.appName&&(a.config.appName=b.appName),b.mode&&c.indexOf(b.mode)>=0&&(a.config.mode=b.mode),"ac"===a.config.mode&&a.acTalk.init()},a.helpers={prepareUrl:function(b,c){var d,e=0===b.indexOf("http")?"":a.config.host+a.config.resourcePrefix;b=b.replace(new RegExp("undefined/","g"),""),c=c||{};var f=[];for(var g in c)f.push(g);var h=f.length;if(h){for(;h--;)f[h]="{"+f[h]+"}";var i=new RegExp(f.join("|"),"gi"),j=b.replace(i,function(a){return c[a.replace("{","").replace("}","")]});d=e+j}else d=e+b;return d},ifJsonParse:function(a){var b;try{b=JSON.parse(a)}catch(c){return a}return b},clone:function(a){return JSON.parse(JSON.stringify(a))},popupSizePosition:function(a,b){var c=void 0!=window.screenLeft?window.screenLeft:screen.left,d=void 0!=window.screenTop?window.screenTop:screen.top,e=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,f=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,g=e/2-a/2+c,h=f/2-b/2+d;return"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+a+", height="+b+", top="+h+", left="+g},testOrigin:function(a){var b=0===a.indexOf("https://"),c="isaacloud.com"===this.getDomain(a);return b&&c},getDomain:function(a){var b=a||window.location.hostname||window.location.host;if(b.match(/^(?:[0-9]{1,3}\.){3}[0-9]{1,3}$/))return b;var c=b.split("."),d=c.length;return c[d-2]+"."+c[d-1]},setCookie:function(a,b,c){var d=new Date;c=c>=0?c:86400,d.setTime(d.getTime()+1e3*c);var e="expires="+d.toGMTString(),f=this.getDomain();document.cookie=a+"="+b+"; "+e+";domain="+f+";path=/"},getCookie:function(b){for(var c=b.trim()+"=",d=document.cookie.split(";"),e=0;e<d.length;e++){var f=d[e].trim();if(0==f.indexOf(c))return a.helpers.ifJsonParse(f.substring(c.length,f.length))}return""},deleteCookie:function(a){for(var b=this,c=new RegExp(a),d=document.cookie.split(/=[^;]*(?:;\s*|$)/),e=0;e<d.length;e++)c.test(d[e])&&b.setCookie(d[e],"",0)},addEventListener:function(a,b){"addEventListener"in window?window.addEventListener(a,b,!1):"attachEvent"in window&&window.attachEvent("on"+a,b,!1)},uniqueId:function(){return"_"+Math.random().toString(36).substr(2,9)},noop:function(){}},a.actions={callService:function(b,c,d,e,f,g,h){e=e||null,f=f||{},g=g||a.helpers.noop,h=h||a.helpers.noop,f["Content-Type"]=f["Content-Type"]||a.config.headers.contentType,f.Authorization=f.Authorization||a.config.headers.authorization;var i=a.helpers.prepareUrl(b,d);"function"==typeof a.config.onStartGlobal&&a.config.onStartGlobal(),a.sockets.proxy.request({url:i,method:c,headers:f,data:e},function(i){i.status>=200&&i.status<400?g(i.data):401===i.status?a.auth.getAppToken(function(){a.actions.callService(b,c,d,e,f,g,h)}):h(i.data)})}},a.acTalk={prefix:"_ICMSG_",successFns:{},msgAction:function(b){var c=b.data.split("[icid]"),d=c[0],e=c[1];if(0===d.indexOf(a.acTalk.prefix)){if(d=d.replace(a.acTalk.prefix,""),console.log("[acTalk] Message received:",d),0===d.indexOf("AppIds:")){var f=d.split(":");a.config.appId=f[2],a.config.gamId=f[1]}a.acTalk.successFns[e]&&a.acTalk.successFns[e]()}},init:function(){var b=this;a.helpers.addEventListener("message",b.msgAction)
},sendToParent:function(b,c){var d=this,e=a.helpers.uniqueId();c&&"function"==typeof c&&(this.successFns[e]=c),console.log("[acTalk] Send to parent:",b),window.parent.postMessage(d.prefix+b+"[icid]"+e,"*")}},a.methods={admin:{conditions:{post:function(b,c,d,e){a.actions.callService("/admin/conditions","POST",b,d,e,c)},get:function(b,c,d,e){a.actions.callService("/admin/conditions","GET",b,d,e,c)},doc:{get:function(b,c,d,e){a.actions.callService("/admin/conditions/doc","GET",b,d,e,c)}},id:function(b){return{"delete":function(c,d,e,f){a.actions.callService("/admin/conditions/"+b,"DELETE",c,e,f,d)},put:function(c,d,e,f){a.actions.callService("/admin/conditions/"+b,"PUT",c,e,f,d)},get:function(c,d,e,f){a.actions.callService("/admin/conditions/"+b,"GET",c,e,f,d)},counters:{id:function(c){return{"delete":function(d,e,f,g){a.actions.callService("/admin/conditions/"+b+"/counters/"+c,"DELETE",d,f,g,e)},put:function(d,e,f,g){a.actions.callService("/admin/conditions/"+b+"/counters/"+c,"PUT",d,f,g,e)}}}}}}},statistics:{put:function(b,c,d,e){a.actions.callService("/admin/statistics","PUT",b,d,e,c)},get:function(b,c,d,e){a.actions.callService("/admin/statistics","GET",b,d,e,c)},doc:{get:function(b,c,d,e){a.actions.callService("/admin/statistics/doc","GET",b,d,e,c)}}},counters:{post:function(b,c,d,e){a.actions.callService("/admin/counters","POST",b,d,e,c)},get:function(b,c,d,e){a.actions.callService("/admin/counters","GET",b,d,e,c)},id:function(b){return{"delete":function(c,d,e,f){a.actions.callService("/admin/counters/"+b,"DELETE",c,e,f,d)},put:function(c,d,e,f){a.actions.callService("/admin/counters/"+b,"PUT",c,e,f,d)},get:function(c,d,e,f){a.actions.callService("/admin/counters/"+b,"GET",c,e,f,d)},conditions:{id:function(c){return{"delete":function(d,e,f,g){a.actions.callService("/admin/counters/"+b+"/conditions/"+c,"DELETE",d,f,g,e)},put:function(d,e,f,g){a.actions.callService("/admin/counters/"+b+"/conditions/"+c,"PUT",d,f,g,e)}}}}}},doc:{get:function(b,c,d,e){a.actions.callService("/admin/counters/doc","GET",b,d,e,c)}}},users:{post:function(b,c,d,e){a.actions.callService("/admin/users","POST",b,d,e,c)},get:function(b,c,d,e){a.actions.callService("/admin/users","GET",b,d,e,c)},externalids:{id:function(b){return{id:function(c){return{get:function(d,e,f,g){a.actions.callService("/admin/users/externalids/"+b+"/"+c,"GET",d,f,g,e)}}}}}},doc:{get:function(b,c,d,e){a.actions.callService("/admin/users/doc","GET",b,d,e,c)}},groups:{post:function(b,c,d,e){a.actions.callService("/admin/users/groups","POST",b,d,e,c)},get:function(b,c,d,e){a.actions.callService("/admin/users/groups","GET",b,d,e,c)},id:function(b){return{"delete":function(c,d,e,f){a.actions.callService("/admin/users/groups/"+b,"DELETE",c,e,f,d)},put:function(c,d,e,f){a.actions.callService("/admin/users/groups/"+b,"PUT",c,e,f,d)},get:function(c,d,e,f){a.actions.callService("/admin/users/groups/"+b,"GET",c,e,f,d)},gainedachievements:{post:function(c,d,e,f){a.actions.callService("/admin/users/groups/"+b+"/gainedachievements","POST",c,e,f,d)},get:function(c,d,e,f){a.actions.callService("/admin/users/groups/"+b+"/gainedachievements","GET",c,e,f,d)},doc:{get:function(c,d,e,f){a.actions.callService("/admin/users/groups/"+b+"/gainedachievements/doc","GET",c,e,f,d)}},id:function(c){return{"delete":function(d,e,f,g){a.actions.callService("/admin/users/groups/"+b+"/gainedachievements/"+c,"DELETE",d,f,g,e)},put:function(d,e,f,g){a.actions.callService("/admin/users/groups/"+b+"/gainedachievements/"+c,"PUT",d,f,g,e)},get:function(d,e,f,g){a.actions.callService("/admin/users/groups/"+b+"/gainedachievements/"+c,"GET",d,f,g,e)}}}},externalids:{post:function(c,d,e,f){a.actions.callService("/admin/users/groups/"+b+"/externalids","POST",c,e,f,d)},get:function(c,d,e,f){a.actions.callService("/admin/users/groups/"+b+"/externalids","GET",c,e,f,d)},doc:{get:function(c,d,e,f){a.actions.callService("/admin/users/groups/"+b+"/externalids/doc","GET",c,e,f,d)}},id:function(c){return{"delete":function(d,e,f,g){a.actions.callService("/admin/users/groups/"+b+"/externalids/"+c,"DELETE",d,f,g,e)},put:function(d,e,f,g){a.actions.callService("/admin/users/groups/"+b+"/externalids/"+c,"PUT",d,f,g,e)},get:function(d,e,f,g){a.actions.callService("/admin/users/groups/"+b+"/externalids/"+c,"GET",d,f,g,e)}}}},users:{id:function(c){return{"delete":function(d,e,f,g){a.actions.callService("/admin/users/groups/"+b+"/users/"+c,"DELETE",d,f,g,e)},put:function(d,e,f,g){a.actions.callService("/admin/users/groups/"+b+"/users/"+c,"PUT",d,f,g,e)}}}},customfields:{post:function(c,d,e,f){a.actions.callService("/admin/users/groups/"+b+"/customfields","POST",c,e,f,d)},put:function(c,d,e,f){a.actions.callService("/admin/users/groups/"+b+"/customfields","PUT",c,e,f,d)},get:function(c,d,e,f){a.actions.callService("/admin/users/groups/"+b+"/customfields","GET",c,e,f,d)},id:function(c){return{"delete":function(d,e,f,g){a.actions.callService("/admin/users/groups/"+b+"/customfields/"+c,"DELETE",d,f,g,e)},get:function(d,e,f,g){a.actions.callService("/admin/users/groups/"+b+"/customfields/"+c,"GET",d,f,g,e)}}}},countervalues:{post:function(c,d,e,f){a.actions.callService("/admin/users/groups/"+b+"/countervalues","POST",c,e,f,d)},get:function(c,d,e,f){a.actions.callService("/admin/users/groups/"+b+"/countervalues","GET",c,e,f,d)},id:function(c){return{"delete":function(d,e,f,g){a.actions.callService("/admin/users/groups/"+b+"/countervalues/"+c,"DELETE",d,f,g,e)},put:function(d,e,f,g){a.actions.callService("/admin/users/groups/"+b+"/countervalues/"+c,"PUT",d,f,g,e)},get:function(d,e,f,g){a.actions.callService("/admin/users/groups/"+b+"/countervalues/"+c,"GET",d,f,g,e)}}},doc:{get:function(c,d,e,f){a.actions.callService("/admin/users/groups/"+b+"/countervalues/doc","GET",c,e,f,d)}}},wongames:{post:function(c,d,e,f){a.actions.callService("/admin/users/groups/"+b+"/wongames","POST",c,e,f,d)},get:function(c,d,e,f){a.actions.callService("/admin/users/groups/"+b+"/wongames","GET",c,e,f,d)},doc:{get:function(c,d,e,f){a.actions.callService("/admin/users/groups/"+b+"/wongames/doc","GET",c,e,f,d)}},id:function(c){return{"delete":function(d,e,f,g){a.actions.callService("/admin/users/groups/"+b+"/wongames/"+c,"DELETE",d,f,g,e)},put:function(d,e,f,g){a.actions.callService("/admin/users/groups/"+b+"/wongames/"+c,"PUT",d,f,g,e)},get:function(d,e,f,g){a.actions.callService("/admin/users/groups/"+b+"/wongames/"+c,"GET",d,f,g,e)}}}},segments:{id:function(c){return{"delete":function(d,e,f,g){a.actions.callService("/admin/users/groups/"+b+"/segments/"+c,"DELETE",d,f,g,e)},put:function(d,e,f,g){a.actions.callService("/admin/users/groups/"+b+"/segments/"+c,"PUT",d,f,g,e)}}}}}},externalids:{id:function(b){return{id:function(c){return{get:function(d,e,f,g){a.actions.callService("/admin/users/groups/externalids/"+b+"/"+c,"GET",d,f,g,e)}}}}}},doc:{get:function(b,c,d,e){a.actions.callService("/admin/users/groups/doc","GET",b,d,e,c)}}},id:function(b){return{"delete":function(c,d,e,f){a.actions.callService("/admin/users/"+b,"DELETE",c,e,f,d)},put:function(c,d,e,f){a.actions.callService("/admin/users/"+b,"PUT",c,e,f,d)},get:function(c,d,e,f){a.actions.callService("/admin/users/"+b,"GET",c,e,f,d)},gainedachievements:{post:function(c,d,e,f){a.actions.callService("/admin/users/"+b+"/gainedachievements","POST",c,e,f,d)},get:function(c,d,e,f){a.actions.callService("/admin/users/"+b+"/gainedachievements","GET",c,e,f,d)},doc:{get:function(c,d,e,f){a.actions.callService("/admin/users/"+b+"/gainedachievements/doc","GET",c,e,f,d)}},id:function(c){return{"delete":function(d,e,f,g){a.actions.callService("/admin/users/"+b+"/gainedachievements/"+c,"DELETE",d,f,g,e)},put:function(d,e,f,g){a.actions.callService("/admin/users/"+b+"/gainedachievements/"+c,"PUT",d,f,g,e)},get:function(d,e,f,g){a.actions.callService("/admin/users/"+b+"/gainedachievements/"+c,"GET",d,f,g,e)}}}},externalids:{post:function(c,d,e,f){a.actions.callService("/admin/users/"+b+"/externalids","POST",c,e,f,d)},get:function(c,d,e,f){a.actions.callService("/admin/users/"+b+"/externalids","GET",c,e,f,d)},doc:{get:function(c,d,e,f){a.actions.callService("/admin/users/"+b+"/externalids/doc","GET",c,e,f,d)}},id:function(c){return{"delete":function(d,e,f,g){a.actions.callService("/admin/users/"+b+"/externalids/"+c,"DELETE",d,f,g,e)},put:function(d,e,f,g){a.actions.callService("/admin/users/"+b+"/externalids/"+c,"PUT",d,f,g,e)},get:function(d,e,f,g){a.actions.callService("/admin/users/"+b+"/externalids/"+c,"GET",d,f,g,e)}}}},customfields:{post:function(c,d,e,f){a.actions.callService("/admin/users/"+b+"/customfields","POST",c,e,f,d)},put:function(c,d,e,f){a.actions.callService("/admin/users/"+b+"/customfields","PUT",c,e,f,d)},get:function(c,d,e,f){a.actions.callService("/admin/users/"+b+"/customfields","GET",c,e,f,d)},id:function(c){return{"delete":function(d,e,f,g){a.actions.callService("/admin/users/"+b+"/customfields/"+c,"DELETE",d,f,g,e)},get:function(d,e,f,g){a.actions.callService("/admin/users/"+b+"/customfields/"+c,"GET",d,f,g,e)}}}},countervalues:{post:function(c,d,e,f){a.actions.callService("/admin/users/"+b+"/countervalues","POST",c,e,f,d)},get:function(c,d,e,f){a.actions.callService("/admin/users/"+b+"/countervalues","GET",c,e,f,d)},id:function(c){return{"delete":function(d,e,f,g){a.actions.callService("/admin/users/"+b+"/countervalues/"+c,"DELETE",d,f,g,e)},put:function(d,e,f,g){a.actions.callService("/admin/users/"+b+"/countervalues/"+c,"PUT",d,f,g,e)},get:function(d,e,f,g){a.actions.callService("/admin/users/"+b+"/countervalues/"+c,"GET",d,f,g,e)}}},doc:{get:function(c,d,e,f){a.actions.callService("/admin/users/"+b+"/countervalues/doc","GET",c,e,f,d)}}},groups:{id:function(c){return{"delete":function(d,e,f,g){a.actions.callService("/admin/users/"+b+"/groups/"+c,"DELETE",d,f,g,e)},put:function(d,e,f,g){a.actions.callService("/admin/users/"+b+"/groups/"+c,"PUT",d,f,g,e)}}}},wongames:{post:function(c,d,e,f){a.actions.callService("/admin/users/"+b+"/wongames","POST",c,e,f,d)},get:function(c,d,e,f){a.actions.callService("/admin/users/"+b+"/wongames","GET",c,e,f,d)},doc:{get:function(c,d,e,f){a.actions.callService("/admin/users/"+b+"/wongames/doc","GET",c,e,f,d)}},id:function(c){return{"delete":function(d,e,f,g){a.actions.callService("/admin/users/"+b+"/wongames/"+c,"DELETE",d,f,g,e)},put:function(d,e,f,g){a.actions.callService("/admin/users/"+b+"/wongames/"+c,"PUT",d,f,g,e)},get:function(d,e,f,g){a.actions.callService("/admin/users/"+b+"/wongames/"+c,"GET",d,f,g,e)}}}},friends:{id:function(c){return{"delete":function(d,e,f,g){a.actions.callService("/admin/users/"+b+"/friends/"+c,"DELETE",d,f,g,e)},put:function(d,e,f,g){a.actions.callService("/admin/users/"+b+"/friends/"+c,"PUT",d,f,g,e)}}}},segments:{id:function(c){return{"delete":function(d,e,f,g){a.actions.callService("/admin/users/"+b+"/segments/"+c,"DELETE",d,f,g,e)},put:function(d,e,f,g){a.actions.callService("/admin/users/"+b+"/segments/"+c,"PUT",d,f,g,e)}}}}}}},segments:{post:function(b,c,d,e){a.actions.callService("/admin/segments","POST",b,d,e,c)},get:function(b,c,d,e){a.actions.callService("/admin/segments","GET",b,d,e,c)},doc:{get:function(b,c,d,e){a.actions.callService("/admin/segments/doc","GET",b,d,e,c)}},id:function(b){return{"delete":function(c,d,e,f){a.actions.callService("/admin/segments/"+b,"DELETE",c,e,f,d)},put:function(c,d,e,f){a.actions.callService("/admin/segments/"+b,"PUT",c,e,f,d)},get:function(c,d,e,f){a.actions.callService("/admin/segments/"+b,"GET",c,e,f,d)}}}},functions:{post:function(b,c,d,e){a.actions.callService("/admin/functions","POST",b,d,e,c)},get:function(b,c,d,e){a.actions.callService("/admin/functions","GET",b,d,e,c)},doc:{get:function(b,c,d,e){a.actions.callService("/admin/functions/doc","GET",b,d,e,c)}},id:function(b){return{"delete":function(c,d,e,f){a.actions.callService("/admin/functions/"+b,"DELETE",c,e,f,d)},put:function(c,d,e,f){a.actions.callService("/admin/functions/"+b,"PUT",c,e,f,d)},get:function(c,d,e,f){a.actions.callService("/admin/functions/"+b,"GET",c,e,f,d)}}}},clientscripts:{post:function(b,c,d,e){a.actions.callService("/admin/clientscripts","POST",b,d,e,c)},get:function(b,c,d,e){a.actions.callService("/admin/clientscripts","GET",b,d,e,c)},doc:{get:function(b,c,d,e){a.actions.callService("/admin/clientscripts/doc","GET",b,d,e,c)}},id:function(b){return{"delete":function(c,d,e,f){a.actions.callService("/admin/clientscripts/"+b,"DELETE",c,e,f,d)},put:function(c,d,e,f){a.actions.callService("/admin/clientscripts/"+b,"PUT",c,e,f,d)},get:function(c,d,e,f){a.actions.callService("/admin/clientscripts/"+b,"GET",c,e,f,d)}}}},leaderboards:{post:function(b,c,d,e){a.actions.callService("/admin/leaderboards","POST",b,d,e,c)},get:function(b,c,d,e){a.actions.callService("/admin/leaderboards","GET",b,d,e,c)},doc:{get:function(b,c,d,e){a.actions.callService("/admin/leaderboards/doc","GET",b,d,e,c)}},id:function(b){return{"delete":function(c,d,e,f){a.actions.callService("/admin/leaderboards/"+b,"DELETE",c,e,f,d)},put:function(c,d,e,f){a.actions.callService("/admin/leaderboards/"+b,"PUT",c,e,f,d)},get:function(c,d,e,f){a.actions.callService("/admin/leaderboards/"+b,"GET",c,e,f,d)},recalculate:{get:function(c,d,e,f){a.actions.callService("/admin/leaderboards/"+b+"/recalculate","GET",c,e,f,d)}}}}},notifications:{post:function(b,c,d,e){a.actions.callService("/admin/notifications","POST",b,d,e,c)},get:function(b,c,d,e){a.actions.callService("/admin/notifications","GET",b,d,e,c)},doc:{get:function(b,c,d,e){a.actions.callService("/admin/notifications/doc","GET",b,d,e,c)}},types:{post:function(b,c,d,e){a.actions.callService("/admin/notifications/types","POST",b,d,e,c)},get:function(b,c,d,e){a.actions.callService("/admin/notifications/types","GET",b,d,e,c)},doc:{get:function(b,c,d,e){a.actions.callService("/admin/notifications/types/doc","GET",b,d,e,c)}},id:function(b){return{"delete":function(c,d,e,f){a.actions.callService("/admin/notifications/types/"+b,"DELETE",c,e,f,d)},put:function(c,d,e,f){a.actions.callService("/admin/notifications/types/"+b,"PUT",c,e,f,d)},get:function(c,d,e,f){a.actions.callService("/admin/notifications/types/"+b,"GET",c,e,f,d)}}}},id:function(b){return{"delete":function(c,d,e,f){a.actions.callService("/admin/notifications/"+b,"DELETE",c,e,f,d)},put:function(c,d,e,f){a.actions.callService("/admin/notifications/"+b,"PUT",c,e,f,d)},get:function(c,d,e,f){a.actions.callService("/admin/notifications/"+b,"GET",c,e,f,d)}}}},transactionsources:{post:function(b,c,d,e){a.actions.callService("/admin/transactionsources","POST",b,d,e,c)},get:function(b,c,d,e){a.actions.callService("/admin/transactionsources","GET",b,d,e,c)},id:function(b){return{"delete":function(c,d,e,f){a.actions.callService("/admin/transactionsources/"+b,"DELETE",c,e,f,d)},put:function(c,d,e,f){a.actions.callService("/admin/transactionsources/"+b,"PUT",c,e,f,d)},get:function(c,d,e,f){a.actions.callService("/admin/transactionsources/"+b,"GET",c,e,f,d)},"function":{id:function(c){return{"delete":function(d,e,f,g){a.actions.callService("/admin/transactionsources/"+b+"/function/"+c,"DELETE",d,f,g,e)},put:function(d,e,f,g){a.actions.callService("/admin/transactionsources/"+b+"/function/"+c,"PUT",d,f,g,e)}}}}}},doc:{get:function(b,c,d,e){a.actions.callService("/admin/transactionsources/doc","GET",b,d,e,c)}}},games:{post:function(b,c,d,e){a.actions.callService("/admin/games","POST",b,d,e,c)},get:function(b,c,d,e){a.actions.callService("/admin/games","GET",b,d,e,c)},id:function(b){return{"delete":function(c,d,e,f){a.actions.callService("/admin/games/"+b,"DELETE",c,e,f,d)},put:function(c,d,e,f){a.actions.callService("/admin/games/"+b,"PUT",c,e,f,d)},get:function(c,d,e,f){a.actions.callService("/admin/games/"+b,"GET",c,e,f,d)},notifications:{id:function(c){return{"delete":function(d,e,f,g){a.actions.callService("/admin/games/"+b+"/notifications/"+c,"DELETE",d,f,g,e)},put:function(d,e,f,g){a.actions.callService("/admin/games/"+b+"/notifications/"+c,"PUT",d,f,g,e)}}}},conditions:{id:function(c){return{"delete":function(d,e,f,g){a.actions.callService("/admin/games/"+b+"/conditions/"+c,"DELETE",d,f,g,e)},put:function(d,e,f,g){a.actions.callService("/admin/games/"+b+"/conditions/"+c,"PUT",d,f,g,e)}}}}}},doc:{get:function(b,c,d,e){a.actions.callService("/admin/games/doc","GET",b,d,e,c)}}},achievements:{post:function(b,c,d,e){a.actions.callService("/admin/achievements","POST",b,d,e,c)},get:function(b,c,d,e){a.actions.callService("/admin/achievements","GET",b,d,e,c)},id:function(b){return{"delete":function(c,d,e,f){a.actions.callService("/admin/achievements/"+b,"DELETE",c,e,f,d)},put:function(c,d,e,f){a.actions.callService("/admin/achievements/"+b,"PUT",c,e,f,d)},get:function(c,d,e,f){a.actions.callService("/admin/achievements/"+b,"GET",c,e,f,d)},segments:{id:function(c){return{"delete":function(d,e,f,g){a.actions.callService("/admin/achievements/"+b+"/segments/"+c,"DELETE",d,f,g,e)},put:function(d,e,f,g){a.actions.callService("/admin/achievements/"+b+"/segments/"+c,"PUT",d,f,g,e)}}}}}},groups:{post:function(b,c,d,e){a.actions.callService("/admin/achievements/groups","POST",b,d,e,c)},get:function(b,c,d,e){a.actions.callService("/admin/achievements/groups","GET",b,d,e,c)},doc:{get:function(b,c,d,e){a.actions.callService("/admin/achievements/groups/doc","GET",b,d,e,c)}},id:function(b){return{"delete":function(c,d,e,f){a.actions.callService("/admin/achievements/groups/"+b,"DELETE",c,e,f,d)},put:function(c,d,e,f){a.actions.callService("/admin/achievements/groups/"+b,"PUT",c,e,f,d)},get:function(c,d,e,f){a.actions.callService("/admin/achievements/groups/"+b,"GET",c,e,f,d)}}}},doc:{get:function(b,c,d,e){a.actions.callService("/admin/achievements/doc","GET",b,d,e,c)}},progress:{post:function(b,c,d,e){a.actions.callService("/admin/achievements/progress","POST",b,d,e,c)},get:function(b,c,d,e){a.actions.callService("/admin/achievements/progress","GET",b,d,e,c)},id:function(b){return{"delete":function(c,d,e,f){a.actions.callService("/admin/achievements/progress/"+b,"DELETE",c,e,f,d)},put:function(c,d,e,f){a.actions.callService("/admin/achievements/progress/"+b,"PUT",c,e,f,d)},get:function(c,d,e,f){a.actions.callService("/admin/achievements/progress/"+b,"GET",c,e,f,d)}}},doc:{get:function(b,c,d,e){a.actions.callService("/admin/achievements/progress/doc","GET",b,d,e,c)}}},categories:{post:function(b,c,d,e){a.actions.callService("/admin/achievements/categories","POST",b,d,e,c)},get:function(b,c,d,e){a.actions.callService("/admin/achievements/categories","GET",b,d,e,c)},id:function(b){return{"delete":function(c,d,e,f){a.actions.callService("/admin/achievements/categories/"+b,"DELETE",c,e,f,d)},put:function(c,d,e,f){a.actions.callService("/admin/achievements/categories/"+b,"PUT",c,e,f,d)},get:function(c,d,e,f){a.actions.callService("/admin/achievements/categories/"+b,"GET",c,e,f,d)}}},doc:{get:function(b,c,d,e){a.actions.callService("/admin/achievements/categories/doc","GET",b,d,e,c)}}}}},cache:{statistics:{get:function(b,c,d,e){a.actions.callService("/cache/statistics","GET",b,d,e,c)}},counters:{get:function(b,c,d,e){a.actions.callService("/cache/counters","GET",b,d,e,c)},id:function(b){return{get:function(c,d,e,f){a.actions.callService("/cache/counters/"+b,"GET",c,e,f,d)}}}},users:{get:function(b,c,d,e){a.actions.callService("/cache/users","GET",b,d,e,c)},externalids:{id:function(b){return{id:function(c){return{get:function(d,e,f,g){a.actions.callService("/cache/users/externalids/"+b+"/"+c,"GET",d,f,g,e)}}}}}},groups:{get:function(b,c,d,e){a.actions.callService("/cache/users/groups","GET",b,d,e,c)},id:function(b){return{get:function(c,d,e,f){a.actions.callService("/cache/users/groups/"+b,"GET",c,e,f,d)},externalids:{id:function(c){return{id:function(d){return{get:function(e,f,g,h){a.actions.callService("/cache/users/groups/"+b+"/externalids/"+c+"/"+d,"GET",e,g,h,f)}}}}}},users:{get:function(c,d,e,f){a.actions.callService("/cache/users/groups/"+b+"/users","GET",c,e,f,d)}},segments:{get:function(c,d,e,f){a.actions.callService("/cache/users/groups/"+b+"/segments","GET",c,e,f,d)}},games:{get:function(c,d,e,f){a.actions.callService("/cache/users/groups/"+b+"/games","GET",c,e,f,d)}},achievements:{get:function(c,d,e,f){a.actions.callService("/cache/users/groups/"+b+"/achievements","GET",c,e,f,d)}}}}},id:function(b){return{get:function(c,d,e,f){a.actions.callService("/cache/users/"+b,"GET",c,e,f,d)},history:{get:function(c,d,e,f){a.actions.callService("/cache/users/"+b+"/history","GET",c,e,f,d)}},groups:{get:function(c,d,e,f){a.actions.callService("/cache/users/"+b+"/groups","GET",c,e,f,d)}},friends:{get:function(c,d,e,f){a.actions.callService("/cache/users/"+b+"/friends","GET",c,e,f,d)}},segments:{get:function(c,d,e,f){a.actions.callService("/cache/users/"+b+"/segments","GET",c,e,f,d)}},games:{get:function(c,d,e,f){a.actions.callService("/cache/users/"+b+"/games","GET",c,e,f,d)}},achievements:{get:function(c,d,e,f){a.actions.callService("/cache/users/"+b+"/achievements","GET",c,e,f,d)}}}}},segments:{get:function(b,c,d,e){a.actions.callService("/cache/segments","GET",b,d,e,c)},id:function(b){return{get:function(c,d,e,f){a.actions.callService("/cache/segments/"+b,"GET",c,e,f,d)}}}},leaderboards:{get:function(b,c,d,e){a.actions.callService("/cache/leaderboards","GET",b,d,e,c)},id:function(b){return{get:function(c,d,e,f){a.actions.callService("/cache/leaderboards/"+b,"GET",c,e,f,d)},users:{id:function(c){return{friends:{get:function(d,e,f,g){a.actions.callService("/cache/leaderboards/"+b+"/users/"+c+"/friends","GET",d,f,g,e)}}}}},groups:{id:function(c){return{get:function(d,e,f,g){a.actions.callService("/cache/leaderboards/"+b+"/groups/"+c,"GET",d,f,g,e)}}}},segments:{id:function(c){return{get:function(d,e,f,g){a.actions.callService("/cache/leaderboards/"+b+"/segments/"+c,"GET",d,f,g,e)}}}}}}},notifications:{get:function(b,c,d,e){a.actions.callService("/cache/notifications","GET",b,d,e,c)},id:function(b){return{get:function(c,d,e,f){a.actions.callService("/cache/notifications/"+b,"GET",c,e,f,d)}}}},games:{get:function(b,c,d,e){a.actions.callService("/cache/games","GET",b,d,e,c)},id:function(b){return{get:function(c,d,e,f){a.actions.callService("/cache/games/"+b,"GET",c,e,f,d)}}}},events:{get:function(b,c,d,e){a.actions.callService("/cache/events","GET",b,d,e,c)},id:function(b){return{get:function(c,d,e,f){a.actions.callService("/cache/events/"+b,"GET",c,e,f,d)}}}},achievements:{get:function(b,c,d,e){a.actions.callService("/cache/achievements","GET",b,d,e,c)},id:function(b){return{get:function(c,d,e,f){a.actions.callService("/cache/achievements/"+b,"GET",c,e,f,d)},segments:{get:function(c,d,e,f){a.actions.callService("/cache/achievements/"+b+"/segments","GET",c,e,f,d)}}}},categories:{get:function(b,c,d,e){a.actions.callService("/cache/achievements/categories","GET",b,d,e,c)},id:function(b){return{get:function(c,d,e,f){a.actions.callService("/cache/achievements/categories/"+b,"GET",c,e,f,d)}}}}}},queues:{events:{post:function(b,c,d,e){a.actions.callService("/queues/events","POST",b,d,e,c)},get:function(b,c,d,e){a.actions.callService("/queues/events","GET",b,d,e,c)},id:function(b){return{get:function(c,d,e,f){a.actions.callService("/queues/events/"+b,"GET",c,e,f,d)}}},error:{get:function(b,c,d,e){a.actions.callService("/queues/events/error","GET",b,d,e,c)},id:function(b){return{get:function(c,d,e,f){a.actions.callService("/queues/events/error/"+b,"GET",c,e,f,d)}}}}},notifications:{get:function(b,c,d,e){a.actions.callService("/queues/notifications","GET",b,d,e,c)},error:{get:function(b,c,d,e){a.actions.callService("/queues/notifications/error","GET",b,d,e,c)},id:function(b){return{patch:function(c,d,e,f){a.actions.callService("/queues/notifications/error/"+b,"PATCH",c,e,f,d)},get:function(c,d,e,f){a.actions.callService("/queues/notifications/error/"+b,"GET",c,e,f,d)}}}},id:function(b){return{patch:function(c,d,e,f){a.actions.callService("/queues/notifications/"+b,"PATCH",c,e,f,d)},get:function(c,d,e,f){a.actions.callService("/queues/notifications/"+b,"GET",c,e,f,d)}}}}}},a.methods.hack=function(b){a.config.setToken('Bearer',b);a.auth.successLogin();},a.methods.authorize=function(b){"ac"===a.config.mode?a.acTalk.sendToParent("GetAppIdsByName:"+a.config.appName,function(){a.auth.getAppToken(b)}):a.auth.getAppToken(b)},a.methods.logout=function(b){a.auth.logout(b)},!window.IC){var b=a.methods;if(b.init=a.init,window.IC=b,!window.icAsyncInit)throw"icAsyncInit function is not defined";window.icAsyncInit()}}.call(this);

